{{!Add html-head}}
{{#> html_head}}
    {{!Add custom scripts}}
    <link rel="stylesheet" href="/static/css/users-list.css">
{{/html_head}}

<body>
    {{!Add navbar}}
    {{> navbar}}

    {{!Fill content}}
    <div id="content">
        <h1>Users</h1>
        <table>
            <colgroup>
                <col>
                <col>
                <col>
                <col>
            </colgroup>
            <thead>
                <th>Name</th>
                <th>Password</th>
                <th></th>
                <th></th>
            </thead>
            {{#each users}}
                <tr>
                    <form action="/users/{{this.id}}" method="post" id="{{this.id}}_form">
                        <td>
                            <span id="{{this.id}}_name_span">{{this.name}}</span>
                            <input id="{{this.id}}_name_input" type="hidden" name="name" value="{{this.name}}" placeholder="username">
                        </td>
                        <td>
                            <input id="{{this.id}}_password_input" type="hidden" name="password" placeholder="new password">
                        </td>
                        <td>
                            <i id="{{this.id}}_edit" class="fas fa-edit fa-lg fa-button"></i>
                            <input id="{{this.id}}_submit" class="fa-button" type="hidden" name="submit" value="&#xf00c;">
                        </td>
                        <td>
                            {{#if this.deleteable}}
                                <a href="/users/delete/{{this.id}}">
                                    <i id="{{this.id}}_delete" class="fas fa-trash fa-lg fa-button"></i>
                                </a>
                            {{else}}
                                <i id="{{this.id}}_delete" class="fas fa-trash fa-lg fa-button fa-disabled"></i>
                            {{/if}}
                            <i id="{{this.id}}_cancel" class="fas fa-times fa-lg fa-button" style="display: none;"></i>
                        </td>
                    </form>
                </tr>
            {{/each}}
                <tr>
                    <form action="/users" method="post" id="new_user_form">
                        <td>
                            <input id="new_user_name_input" type="hidden" name="name" placeholder="username">
                        </td>
                        <td>
                            <input id="new_user_password_input" type="hidden" name="password" placeholder="password">
                        </td>
                        <td>
                            <input id="new_user_submit" class="fa-button" type="hidden" name="submit" value="&#xf00c;">
                        </td>
                        <td>
                            <i id="new_user_add" class="fas fa-plus fa-lg fa-button"></i>
                            <i id="new_user_exit" class="fas fa-times fa-lg fa-button" style="display: none;"></i>
                        </td>
                    </form>
                </tr>
        </table>
    </div>

    {{!Add footer}}
    {{> footer}}

    <script src="/static/js/users-list.js"></script>
</body>
</html>